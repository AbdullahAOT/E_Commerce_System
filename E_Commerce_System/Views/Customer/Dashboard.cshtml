@using Microsoft.AspNetCore.Http

@{
    ViewData["Title"] = "Customer Dashboard";
    var customerId = Context.Session.GetInt32("CustomerId");
}

<h2>Customer Dashboard</h2>

<p>Welcome, @ViewBag.CustomerName!</p>

<h2>Welcome, @ViewBag.CustomerName</h2>

@if (customerId.HasValue)
{
    <div style="margin-bottom:15px;">
        <img src="/api/Customers/@customerId.Value/photo"
             alt="Profile photo"
             style="width:120px;height:120px;border-radius:50%;object-fit:cover;border:1px solid #ccc;"
             onerror="this.style.display='none';" />
    </div>
}


<h3>Your Orders Summary</h3>
<ul>
    <li>Total Orders: @ViewBag.TotalOrders</li>
    <li>Total Amount of Orders: @ViewBag.TotalAmount JOD</li>
</ul>

<p>
    <a asp-action="EditProfile">Edit Profile</a> |
    <a asp-action="Products">Browse Products</a> |
    <a asp-action="MyOrders">My Orders</a> |
    <a asp-action="Logout">Logout</a>
</p>